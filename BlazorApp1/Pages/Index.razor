@page "/"
@using System.Net.Http.Json
@using BlazorApp1.Services
@using global::Shared
@inject CustomersService CustomersService

@if (Customers.Any())
{
    <ul>
        @foreach (var customer in Customers)
        {
            <li>@customer.Name - @customer.Email</li>
        }
    </ul>
}

@code {
    Customer[] Customers { get; set; } = Array.Empty<Customer>();

    protected override async Task OnInitializedAsync()
    {
        Customers = await CustomersService.GetCustomers();
    }
}
