@page "/"
@using System.Net.Http.Json
@using global::Shared
@inject HttpClient HttpClient

@if (Customers != null)
{
    <ul>
        @foreach (var customer in Customers)
        {
            <li>@customer.Name - @customer.Email</li>
        }
    </ul>
}

@code {
    Customer[] Customers { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Customers = await HttpClient.GetFromJsonAsync<Customer[]>($"customers");
    }
}
